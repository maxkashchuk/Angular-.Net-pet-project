{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { InjectionToken, Directive, Optional, Inject, Input, NgModule } from '@angular/core';\nimport * as i1 from '@alyle/ui';\nimport { st2c, mixinStyleUpdater, mixinBg, mixinColor, mixinRaised, mixinOutlined, mixinElevation, mixinShadowColor, StyleRenderer, LyCommonModule } from '@alyle/ui';\nconst STYLE_PRIORITY = -2;\nconst DEFAULT_SIZE = 40;\nconst DEFAULT_BG = 'action';\nconst LY_AVATAR_DEFAULT_OPTIONS = new InjectionToken('LY_AVATAR_DEFAULT_OPTIONS');\n\nconst STYLES = theme => {\n  return {\n    $name: LyAvatar.и,\n    $priority: STYLE_PRIORITY,\n    root: _className => `${_className}{display:inline-flex;position:relative;font-size:1.25em;flex-shrink:0;align-items:center;user-select:none;border-radius:50%;text-align:center;justify-content:center;}${_className}>img{width:100%;height:100%;border-radius:50%;display:block;object-fit:cover;-webkit-background-clip:padding-box;}${st2c(theme.avatar && theme.avatar.root && theme.avatar.root(), `${_className}`)}`\n  };\n};\n/** @docs-private */\n\n\nclass LyAvatarBase {\n  constructor(_theme) {\n    this._theme = _theme;\n  }\n\n}\n/** @docs-private */\n\n\nconst LyAvatarMixinBase = mixinStyleUpdater(mixinBg(mixinColor(mixinRaised(mixinOutlined(mixinElevation(mixinShadowColor(LyAvatarBase)))))));\nlet LyAvatar = /*#__PURE__*/(() => {\n  class LyAvatar extends LyAvatarMixinBase {\n    constructor(theme, renderer, _elementRef, sRenderer, _defaults) {\n      super(theme);\n      this._elementRef = _elementRef;\n      this.sRenderer = sRenderer;\n      this._defaults = _defaults;\n      /** @docs-private */\n\n      this.classes = this._theme.renderStyleSheet(STYLES);\n      this.setAutoContrast();\n      renderer.addClass(_elementRef.nativeElement, this.classes.root);\n    }\n    /** Avatar size */\n\n\n    set size(val) {\n      if (val !== this.size) {\n        this._size = val;\n        this[0x1] = this.sRenderer.add(`${LyAvatar.и}-size-${val}`, () => _className => `${_className}{width:${val}px;height:${val}px;}`, STYLE_PRIORITY, this[0x1]); // const newClass = this._theme.renderStyle(`${LyAvatar.и}.size:${val}`, () => (\n        //   (_className: string) => `${_className}{ ;`\n        // ), STYLE_PRIORITY);\n        // this._sizeClass = this._hostClass.update(newClass, this._sizeClass);\n      }\n    }\n\n    get size() {\n      return this._size;\n    }\n\n    ngOnChanges() {\n      this.updateStyle(this._elementRef.nativeElement);\n    }\n\n    ngOnInit() {\n      if (!this.bg) {\n        this.bg = this._defaults && this._defaults.bg || DEFAULT_BG;\n        this.ngOnChanges();\n      }\n\n      if (!this.size) {\n        this.size = this._defaults && this._defaults.size || DEFAULT_SIZE;\n      }\n    }\n\n  }\n\n  /** @docs-private */\n  LyAvatar.и = 'LyAvatar';\n\n  LyAvatar.ɵfac = function LyAvatar_Factory(t) {\n    return new (t || LyAvatar)(i0.ɵɵdirectiveInject(i1.LyTheme2), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i1.StyleRenderer), i0.ɵɵdirectiveInject(LY_AVATAR_DEFAULT_OPTIONS, 8));\n  };\n\n  LyAvatar.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: LyAvatar,\n    selectors: [[\"ly-avatar\"]],\n    inputs: {\n      bg: \"bg\",\n      color: \"color\",\n      raised: \"raised\",\n      outlined: \"outlined\",\n      elevation: \"elevation\",\n      shadowColor: \"shadowColor\",\n      size: \"size\"\n    },\n    features: [i0.ɵɵProvidersFeature([StyleRenderer]), i0.ɵɵInheritDefinitionFeature, i0.ɵɵNgOnChangesFeature]\n  });\n  return LyAvatar;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\nlet LyAvatarModule = /*#__PURE__*/(() => {\n  class LyAvatarModule {}\n\n  LyAvatarModule.ɵfac = function LyAvatarModule_Factory(t) {\n    return new (t || LyAvatarModule)();\n  };\n\n  LyAvatarModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: LyAvatarModule\n  });\n  LyAvatarModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [LyCommonModule]\n  });\n  return LyAvatarModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { LY_AVATAR_DEFAULT_OPTIONS, LyAvatar, LyAvatarBase, LyAvatarMixinBase, LyAvatarModule, STYLES }; //# sourceMappingURL=alyle-ui-avatar.mjs.map","map":null,"metadata":{},"sourceType":"module"}